import{A as M,a as de,h as pe}from"./apiService-0c051775.js";import{r as p,u as se,k as ue,l as ce,e as s,f as n,c as f,a as e,w as a,g as P,j as te,m as I,n as C,F as V,p as F,t as H,i as g,q as ie}from"./index-929a0040.js";const me={__name:"FormDatosPersonalesComponent",props:{modelValue:{type:Object,default:null},showLabel:String,paises:Array},emits:["update:modelValue","paso"],setup(U,{emit:r}){const h=U,R=v=>!v||/^\d+$/.test(v),u=p(!1);p(null);const j=p(null),k=p(null),y=p(null),N=se(),A=p([]),d=p([]),w=p(!1),_=p([]),l=p(!1),t=p({primer_ap:"",segundo_ap:"",casada_ap:"",nombres:"",celular:"",correo:"",sexo:null,estado_civil:null,fecha_nacimiento:null,numero_ubigeo:"",numero_doc:"",ubicacion:{departamento:null,provincia:null,distrito:null},ubicacion_ubigeo:"",padres:[{parentesco:"Padre o apoderado",tipo_doc:"dni",num_doc:"",primer_ap:"",segundo_ap:"",nombres:""},{parentesco:"Madre",tipo_doc:"dni",num_doc:"",primer_ap:"",segundo_ap:"",nombres:""}],pais:1,departamento:null,provincia:null,distrito:null,direccion:null,voucher_pago:{file:null,secuencia:window.localStorage.getItem("secuencia"),fecha:window.localStorage.getItem("fecha"),hora:null,monto:window.localStorage.getItem("monto")}}),T={required:!0,message:"Obligatorio",trigger:["input","blur"]},J={primer_ap:[T],nombres:[T],celular:{required:!0,validator(v,o){if(o){if(o.toString().length!=9)return new Error("Número de celular invalido")}else return new Error("Obligatorio");return!0},trigger:["input","blur"]},correo:[{type:"email",required:!0,message:"Correo no valido",trigger:["input","blur"]}],sexo:[T],estado_civil:[T],fecha_nacimiento:[{required:!0,trigger:["blur","change"],message:"Seleccion su fecha de nacimiento"}],numero_ubigeo:{required:!0,validator(v,o){if(o){if(o.toString().length!=6)return new Error("Número de ubigeo invalido")}else return new Error("Obligatorio");return!0},trigger:["input","blur"]},padres:[{parentesco:[T],tipo_doc:[T],num_doc:{type:"number",required:!0,trigger:["input","blur"],validator(v,o){console.log("validando");let E=t.value.padres[0].tipo_doc=="dni"?8:12;if(o){if(isNaN(o))return new Error("Solo se permite numeros");if(o.length!=E)return new Error("Número de documento invalido")}else return new Error("Obligatorio");return!0}},primer_ap:[T],nombres:[T]},{num_doc:{type:"number",required:!1,trigger:["input","blur"],validator(v,o){let E=t.value.padres[1].tipo_doc=="dni"?8:12;if(o){if(o.length!=E)return new Error("Número de documento invalido")}else return!0;return!0}}}],pais:{required:!0,message:"Obligatorio",trigger:["change","blur"]},direccion:[T]};ue(()=>({...t.value}),(v,o)=>{v.departamento!=o.departamento&&v.departamento!=null&&X(),v.provincia!=o.provincia&&v.departamento!=null&&v.provincia!=null&&K()});const Z=async()=>{let v=await M.getDepartamentos();A.value=v},X=async()=>{w.value=!0;let v=await M.getProvincias(t.value.departamento);d.value=v,w.value=!1},K=async()=>{l.value=!0;let v=await M.getDistritos(t.value.departamento,t.value.provincia);_.value=v,l.value=!1};(async()=>{await Z(),h.modelValue!=null&&(t.value=h.modelValue,t.value.provincia=h.modelValue.provincia)})();const c=ce(()=>["@gmail.com","@hotmail.com","@outlook.com"].map(v=>{const o=t.value.correo.split("@")[0];return{label:o+v,value:o+v}})),m=async()=>{let v={correo:t.value.correo,celular:t.value.celular};return M.validarDatos(v)},x=v=>{document.getElementById(v).scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})},q=async v=>{var o;v.preventDefault(),(o=j.value)==null||o.validate(E=>{var b;E?(x("persona"),N.error("Llenar el formulario de manera correcta")):(b=k.value)==null||b.validate(G=>{var L;G?(x("residencia"),N.error("Llenar el formulario de manera correcta")):(L=y.value)==null||L.validate(async z=>{if(z)x("apodeado"),N.error("Llenar el formulario de manera correcta");else{let D=await m();D.estado?(r("update:modelValue",t.value),r("paso",2),N.success("Paso Siguiente")):N.error(D.mensaje)}})})})};return(v,o)=>{const E=s("n-input"),b=s("n-form-item"),G=s("n-auto-complete"),L=s("n-select"),z=s("n-form"),D=s("n-card"),$=s("n-divider"),ee=s("n-radio"),ae=s("n-space"),ne=s("n-radio-group"),le=s("ArrowForward"),oe=s("n-icon"),re=s("n-button");return n(),f(V,null,[e(D,{id:"persona",class:"card-datos"},{header:a(()=>[P(" DATOS PERSONALES ")]),default:a(()=>[e(z,{ref_key:"formPerRef",ref:j,model:t.value,rules:J,"label-placement":U.showLabel,"label-width":"220"},{default:a(()=>[e(b,{path:"primer_ap",label:"Primer Apellido"},{default:a(()=>[e(E,{value:t.value.primer_ap,"onUpdate:value":o[0]||(o[0]=i=>t.value.primer_ap=i),placeholder:"Primer Apellido",class:"mayus"},null,8,["value"])]),_:1}),e(b,{path:"segundo_ap",label:"Segundo Apellido"},{default:a(()=>[e(E,{value:t.value.segundo_ap,"onUpdate:value":o[1]||(o[1]=i=>t.value.segundo_ap=i),placeholder:"Segundo Apellido",class:"mayus"},null,8,["value"])]),_:1}),e(b,{path:"nombres",label:"Nombres"},{default:a(()=>[e(E,{value:t.value.nombres,"onUpdate:value":o[2]||(o[2]=i=>t.value.nombres=i),placeholder:"Nombres",class:"mayus"},null,8,["value"])]),_:1}),e(b,{path:"celular",label:"Celular"},{default:a(()=>[e(E,{value:t.value.celular,"onUpdate:value":o[3]||(o[3]=i=>t.value.celular=i),placeholder:"Celular","allow-input":R,maxlength:"9","show-count":""},null,8,["value"])]),_:1}),e(b,{path:"correo",label:"Correo"},{default:a(()=>[e(G,{value:t.value.correo,"onUpdate:value":o[4]||(o[4]=i=>t.value.correo=i),"input-props":{autocomplete:"disabled"},options:te(c),placeholder:"Correo",class:"mayus"},null,8,["value","options"])]),_:1}),e(b,{label:"Sexo",path:"sexo"},{default:a(()=>[e(L,{value:t.value.sexo,"onUpdate:value":o[5]||(o[5]=i=>t.value.sexo=i),placeholder:"Sexo",clearable:"",options:[{label:"MASCULINO",value:"M"},{label:"FEMENINO",value:"F"}]},null,8,["value"])]),_:1}),e(b,{label:"Estado Civil",path:"estado_civil"},{default:a(()=>[e(L,{value:t.value.estado_civil,"onUpdate:value":o[6]||(o[6]=i=>t.value.estado_civil=i),clearable:"",placeholder:"Estado Civil",options:[{label:"SOLTERO",value:"S"},{label:"CASADO",value:"C"},{label:"VIUDO",value:"V"},{label:"DIVORCIADO",value:"D"}]},null,8,["value"])]),_:1}),t.value.estado_civil=="C"&&t.value.sexo=="F"?(n(),I(b,{key:0,path:"casada_ap",label:"Apellido de casada"},{default:a(()=>[e(E,{value:t.value.casada_ap,"onUpdate:value":o[7]||(o[7]=i=>t.value.casada_ap=i),placeholder:"Apellido de casada",class:"mayus"},null,8,["value"])]),_:1})):C("",!0),e(b,{label:"Fecha de Nacimiento",path:"fecha_nacimiento"},{default:a(()=>[e(E,{value:t.value.fecha_nacimiento,"onUpdate:value":o[8]||(o[8]=i=>t.value.fecha_nacimiento=i),type:"date",placeholder:""},null,8,["value"])]),_:1}),e(b,{path:"numero_ubigeo",label:"Número de ubigeo de nacimiento"},{default:a(()=>[e(E,{value:t.value.numero_ubigeo,"onUpdate:value":o[9]||(o[9]=i=>t.value.numero_ubigeo=i),placeholder:"Número de ubigeo","allow-input":R,maxlength:"6","show-count":""},null,8,["value"])]),_:1})]),_:1},8,["model","label-placement"])]),_:1}),e(D,{id:"residencia",class:"card-datos"},{header:a(()=>[P(" LUGAR DE RESIDENCIA ")]),default:a(()=>[e(z,{ref_key:"formResRef",ref:y,model:t.value,rules:J,"label-placement":U.showLabel,"label-width":"200"},{default:a(()=>[e(b,{path:"primer_ap",label:"País"},{default:a(()=>[e(L,{value:t.value.pais,"onUpdate:value":o[10]||(o[10]=i=>t.value.pais=i),"label-field":"nombre","value-field":"id",filterable:"",clearable:"",options:U.paises,placeholder:"País"},null,8,["value","options"])]),_:1}),t.value.pais===1?(n(),f(V,{key:0},[e(b,{path:"departamento",label:"Departamento"},{default:a(()=>[e(L,{value:t.value.departamento,"onUpdate:value":o[11]||(o[11]=i=>t.value.departamento=i),filterable:"",clearable:"",options:A.value,placeholder:"Departamento"},null,8,["value","options"])]),_:1}),e(b,{path:"provincia",label:"Provincia"},{default:a(()=>[e(L,{value:t.value.provincia,"onUpdate:value":o[12]||(o[12]=i=>t.value.provincia=i),loading:w.value,filterable:"",clearable:"",options:d.value,placeholder:"Provincia"},null,8,["value","loading","options"])]),_:1}),e(b,{path:"distrito",label:"Distrito"},{default:a(()=>[e(L,{value:t.value.distrito,"onUpdate:value":o[13]||(o[13]=i=>t.value.distrito=i),loading:l.value,filterable:"",clearable:"",options:_.value,placeholder:"Distrito"},null,8,["value","loading","options"])]),_:1})],64)):C("",!0),e(b,{path:"direccion",label:"Dirección"},{default:a(()=>[e(E,{value:t.value.direccion,"onUpdate:value":o[14]||(o[14]=i=>t.value.direccion=i),placeholder:"Dirección",class:"mayus"},null,8,["value"])]),_:1})]),_:1},8,["model","label-placement"])]),_:1}),e(D,{id:"apoderado",class:"card-datos"},{header:a(()=>[P(" DATOS DEL APODERADO ")]),action:a(()=>[e(ae,{justify:"end"},{default:a(()=>[e(re,{size:"large",type:"primary",onClick:q,"icon-placement":"right",loading:u.value},{icon:a(()=>[e(oe,null,{default:a(()=>[e(le)]),_:1})]),default:a(()=>[P(" SIGUIENTE ")]),_:1},8,["loading"])]),_:1})]),default:a(()=>[e(z,{ref_key:"formTutRef",ref:k,model:t.value,rules:J,"label-placement":U.showLabel,"label-width":"200"},{default:a(()=>[(n(!0),f(V,null,F(t.value.padres,(i,O)=>(n(),f("div",{key:O},[e($,{"title-placement":"left"},{default:a(()=>[P(H(i.parentesco),1)]),_:2},1024),e(b,{path:`padres[${O}].tipo_doc`,label:"Tipo de documento"},{default:a(()=>[e(ne,{value:i.tipo_doc,"onUpdate:value":B=>i.tipo_doc=B},{default:a(()=>[e(ae,null,{default:a(()=>[e(ee,{value:"dni"},{default:a(()=>[P(" DNI ")]),_:1}),e(ee,{value:"carne"},{default:a(()=>[P(" Carné Extrangería ")]),_:1})]),_:1})]),_:2},1032,["value","onUpdate:value"])]),_:2},1032,["path"]),e(b,{path:`padres[${O}].num_doc`,label:"Número de documento"},{default:a(()=>[e(E,{value:i.num_doc,"onUpdate:value":B=>i.num_doc=B,clearable:"",placeholder:"Número de documento","allow-input":R,maxlength:t.value.padres[O].tipo_doc=="dni"?8:12,"show-count":""},null,8,["value","onUpdate:value","maxlength"])]),_:2},1032,["path"]),e(b,{path:`padres[${O}].nombres`,label:"Nombres"},{default:a(()=>[e(E,{value:i.nombres,"onUpdate:value":B=>i.nombres=B,clearable:"",placeholder:"Nombres",class:"mayus"},null,8,["value","onUpdate:value"])]),_:2},1032,["path"]),e(b,{path:`padres[${O}].primer_ap`,label:"Primer Apellido"},{default:a(()=>[e(E,{value:i.primer_ap,"onUpdate:value":B=>i.primer_ap=B,clearable:"",placeholder:"Primer Apellido",class:"mayus"},null,8,["value","onUpdate:value"])]),_:2},1032,["path"]),e(b,{path:`padres[${O}].segundo_ap`,label:"Segundo Apellido",class:"mayus"},{default:a(()=>[e(E,{value:i.segundo_ap,"onUpdate:value":B=>i.segundo_ap=B,clearable:"",placeholder:"Segundo Apellido",class:"mayus"},null,8,["value","onUpdate:value"])]),_:2},1032,["path"])]))),128))]),_:1},8,["model","label-placement"])]),_:1})],64)}}},ve={__name:"FormDatosEstudiosComponent",props:{modelValue:{type:Object,default:null},showLabel:String,paises:Array},emits:["update:modelValue","paso"],setup(U,{emit:r}){const h=U,R=S=>!S||/^\d+$/.test(S),u=p(null),j=se(),k=p([]),y=p([]),N=p(!1),A=p([]),d=p(!1),w=p([]),_=p(!1),l=p({pais:1,departamento:null,provincia:null,distrito:null,colegio:null,direccion:null,egreso:null}),t={required:!0,message:"Obligatorio",trigger:["input","blur"]},T={pais:[t],direccion:[t],egreso:{type:"number",required:!0,trigger:["input","blur"],validator(S,c){let m=4;if(c){if(isNaN(c))return new Error("Solo se permite numeros");if(c.length!=m)return new Error("Año de egreso invalido")}else return new Error("Obligatorio");return!0}}};ue(()=>({...l.value}),(S,c)=>{S.departamento!=c.departamento&&S.departamento!=null&&Y(),S.provincia!=c.provincia&&S.departamento!=null&&S.provincia!=null&&W(),S.distrito!=c.distrito&&S.departamento!=null&&S.provincia!=null&&S.distrito!=null&&J()});const Q=async()=>{let S=await M.getDepartamentos();k.value=S},Y=async()=>{N.value=!0;let S=await M.getProvincias(l.value.departamento);y.value=S,N.value=!1},W=async()=>{d.value=!0;let S=await M.getDistritos(l.value.departamento,l.value.provincia);A.value=S,d.value=!1},J=async()=>{_.value=!0;let S=await M.getColegios(l.value.distrito);w.value=S,_.value=!1};(async()=>{await Q(),h.modelValue!=null&&(l.value=h.modelValue)})();const X=async S=>{var c;S.preventDefault(),(c=u.value)==null||c.validate(m=>{m?(console.log(m),j.error("Llenar el formulario de manera correcta")):(j.success("Paso Siguiente"),r("update:modelValue",l.value),r("paso",3))})},K=async S=>{S.preventDefault(),r("update:modelValue",l.value),r("paso",1)};return(S,c)=>{const m=s("n-select"),x=s("n-form-item"),q=s("n-input"),v=s("n-form"),o=s("ArrowBack"),E=s("n-icon"),b=s("n-button"),G=s("ArrowForward"),L=s("n-space"),z=s("n-card");return n(),I(z,{class:"card-datos",title:"DATOS DEL COLEGIO DE PROCEDENCIA"},{action:a(()=>[e(L,{justify:"space-between"},{default:a(()=>[e(b,{size:"large",type:"primary",onClick:K,"icon-placement":"left"},{icon:a(()=>[e(E,null,{default:a(()=>[e(o)]),_:1})]),default:a(()=>[P(" ATRAS ")]),_:1}),e(b,{size:"large",type:"primary",onClick:X,"icon-placement":"right"},{icon:a(()=>[e(E,null,{default:a(()=>[e(G)]),_:1})]),default:a(()=>[P(" SIGUIENTE ")]),_:1})]),_:1})]),default:a(()=>[e(v,{ref_key:"formRef",ref:u,model:l.value,rules:T,"label-placement":U.showLabel,"label-width":"200"},{default:a(()=>[e(x,{path:"primer_ap",label:"País"},{default:a(()=>[e(m,{value:l.value.pais,"onUpdate:value":c[0]||(c[0]=D=>l.value.pais=D),"label-field":"nombre","value-field":"id",filterable:"",clearable:"",options:U.paises,placeholder:""},null,8,["value","options"])]),_:1}),l.value.pais===1?(n(),f(V,{key:0},[e(x,{path:"departamento",label:"Departamento"},{default:a(()=>[e(m,{value:l.value.departamento,"onUpdate:value":c[1]||(c[1]=D=>l.value.departamento=D),filterable:"",clearable:"",options:k.value,placeholder:""},null,8,["value","options"])]),_:1}),e(x,{path:"provincia",label:"Provincia"},{default:a(()=>[e(m,{value:l.value.provincia,"onUpdate:value":c[2]||(c[2]=D=>l.value.provincia=D),loading:N.value,filterable:"",clearable:"",options:y.value,placeholder:""},null,8,["value","loading","options"])]),_:1}),e(x,{path:"distrito",label:"Distrito"},{default:a(()=>[e(m,{value:l.value.distrito,"onUpdate:value":c[3]||(c[3]=D=>l.value.distrito=D),loading:d.value,filterable:"",clearable:"",options:A.value,placeholder:""},null,8,["value","loading","options"])]),_:1}),e(x,{path:"colegio",label:"Colegio"},{default:a(()=>[e(m,{value:l.value.colegio,"onUpdate:value":c[4]||(c[4]=D=>l.value.colegio=D),loading:_.value,filterable:"",clearable:"",options:w.value,placeholder:""},null,8,["value","loading","options"])]),_:1})],64)):C("",!0),e(x,{path:"egreso",label:"Año de egreso"},{default:a(()=>[e(q,{"allow-input":R,maxlength:"4","show-count":"",value:l.value.egreso,"onUpdate:value":c[5]||(c[5]=D=>l.value.egreso=D),placeholder:"2022",max:2023,minVal:"2000"},null,8,["value"])]),_:1})]),_:1},8,["model","label-placement"])]),_:1})}}},_e=(U,r)=>{const h=U.__vccOpts||U;for(const[R,u]of r)h[R]=u;return h},ge={props:{programa:Number,preguntas:Array,datos_personales:Object},data(){return{cont:0,nota:0,resps:[],preguntas2:[],res:{res1:null,res2:null,res3:null,res4:null,res5:null,res6:null,res7:null,res8:null,res9:null,res10:null},showModal:!1,num_doc:null}},methods:{async getPreguntas(){let U=await de.get("/preguntas/"+programa);this.preguntas2=U.data.datos},async GuardarExamen(){let U=window.localStorage.getItem("codigo");await pe.post("guardar-examen",{respuestas:this.res,codigo:U}),this.nota=this.res.res1.valor+this.res.res2.valor+this.res.res3.valor+this.res.res4.valor+this.res.res5.valor+this.res.res6.valor+this.res.res7.valor+this.res.res8.valor+this.res.res9.valor+this.res.res10.valor,this.cont=1,this.showModal=!0},async decargarExamen(){let U=window.localStorage.getItem("codigo"),r=this.datos_personales.nombres+" "+this.datos_personales.primer_ap+" "+this.datos_personales.segundo_ap;window.open("https://back-cepre.arielluqu3.com/api/constancia-vocacional/"+U+"/"+this.num_doc+this.programa+"/"+r),this.showModal=!1}},mounted(){this.num_doc=window.localStorage.getItem("num_doc")}},fe={key:0},be=g("h3",null,"Postulante:",-1),he={class:"mb-1"},ye=g("strong",null," Nombres y apellidos : ",-1),we={class:"mb-1"},Se=g("strong",null," Número de documento de identidad : ",-1),ke={style:{"margin-bottom":"20px"}},Ue={key:0,style:{display:"flex","justify-content":"center"}},Ae=["src"],Ee={key:1},Ce={key:2},De={key:3},Oe={key:4},Ie={key:5},Ne={key:6},Pe={key:7},Re={key:8},Ve={key:9},xe={key:10},Le=g("div",null,null,-1),je={key:1},Te={style:{display:"flex","justify-content":"center"}},qe={style:{"text-align":"center"}},ze=g("div",null,[g("h2",null,"FELICITACIONES TERMINASTE TU EXAMEN VOCACIONAL")],-1),Fe=g("h2",null,"IMPRIME TU CONSTANCIA",-1);function Me(U,r,h,R,u,j){const k=s("n-radio"),y=s("n-radio-group"),N=s("n-card"),A=s("n-button"),d=s("n-modal");return u.cont===0?(n(),f("div",fe,[be,g("div",he,[ye,P(" "+H(h.datos_personales.nombres)+" "+H(h.datos_personales.primer_ap)+" "+H(h.datos_personales.segundo_ap),1)]),g("div",we,[Se,P(" "+H(u.num_doc),1)]),(n(!0),f(V,null,F(h.preguntas,(w,_)=>(n(),f("div",{key:w.id,style:{"margin-bottom":"20px"}},[e(N,null,{default:a(()=>[g("div",ke,[g("h4",null,H(w.pregunta),1)]),w.url!==null?(n(),f("div",Ue,[g("img",{src:w.url,class:"rounded-md mb-6"},null,8,Ae)])):C("",!0),_===0?(n(),f("div",Ee,[e(y,{value:u.res.res1,"onUpdate:value":r[0]||(r[0]=l=>u.res.res1=l),name:"res1"},{default:a(()=>[(n(!0),f(V,null,F(w.respuestas,l=>(n(),I(k,{key:l.id,value:l,label:l.respuesta},null,8,["value","label"]))),128))]),_:2},1032,["value"])])):C("",!0),_===1?(n(),f("div",Ce,[e(y,{value:u.res.res2,"onUpdate:value":r[1]||(r[1]=l=>u.res.res2=l),name:"res2"},{default:a(()=>[g("div",null,[(n(!0),f(V,null,F(w.respuestas,l=>(n(),I(k,{key:l.id,value:l,label:l.respuesta},null,8,["value","label"]))),128))])]),_:2},1032,["value"])])):C("",!0),_===2?(n(),f("div",De,[e(y,{value:u.res.res3,"onUpdate:value":r[2]||(r[2]=l=>u.res.res3=l),name:"res3"},{default:a(()=>[g("div",null,[(n(!0),f(V,null,F(w.respuestas,l=>(n(),I(k,{key:l.id,value:l,label:l.respuesta},null,8,["value","label"]))),128))])]),_:2},1032,["value"])])):C("",!0),_===3?(n(),f("div",Oe,[e(y,{value:u.res.res4,"onUpdate:value":r[3]||(r[3]=l=>u.res.res4=l),name:"res4"},{default:a(()=>[g("p",null,[(n(!0),f(V,null,F(w.respuestas,l=>(n(),I(k,{key:l.id,value:l,label:l.respuesta},null,8,["value","label"]))),128))])]),_:2},1032,["value"])])):C("",!0),_===4?(n(),f("div",Ie,[e(y,{value:u.res.res5,"onUpdate:value":r[4]||(r[4]=l=>u.res.res5=l),name:"res5"},{default:a(()=>[g("div",null,[(n(!0),f(V,null,F(w.respuestas,l=>(n(),I(k,{key:l.id,value:l,label:l.respuesta},null,8,["value","label"]))),128))])]),_:2},1032,["value"])])):C("",!0),_===5?(n(),f("div",Ne,[e(y,{value:u.res.res6,"onUpdate:value":r[5]||(r[5]=l=>u.res.res6=l),name:"res6"},{default:a(()=>[g("div",null,[(n(!0),f(V,null,F(w.respuestas,l=>(n(),I(k,{key:l.id,value:l,label:l.respuesta},null,8,["value","label"]))),128))])]),_:2},1032,["value"])])):C("",!0),_===6?(n(),f("div",Pe,[e(y,{value:u.res.res7,"onUpdate:value":r[6]||(r[6]=l=>u.res.res7=l),name:"res7"},{default:a(()=>[g("div",null,[(n(!0),f(V,null,F(w.respuestas,l=>(n(),I(k,{key:l.id,value:l,label:l.respuesta},null,8,["value","label"]))),128))])]),_:2},1032,["value"])])):C("",!0),_===7?(n(),f("div",Re,[e(y,{value:u.res.res8,"onUpdate:value":r[7]||(r[7]=l=>u.res.res8=l),name:"res8"},{default:a(()=>[g("div",null,[(n(!0),f(V,null,F(w.respuestas,l=>(n(),I(k,{key:l.id,value:l,label:l.respuesta},null,8,["value","label"]))),128))])]),_:2},1032,["value"])])):C("",!0),_===8?(n(),f("div",Ve,[e(y,{value:u.res.res9,"onUpdate:value":r[8]||(r[8]=l=>u.res.res9=l),name:"res9"},{default:a(()=>[g("div",null,[(n(!0),f(V,null,F(w.respuestas,l=>(n(),I(k,{key:l.id,value:l,label:l.respuesta},null,8,["value","label"]))),128))])]),_:2},1032,["value"])])):C("",!0),_===9?(n(),f("div",xe,[e(y,{value:u.res.res10,"onUpdate:value":r[9]||(r[9]=l=>u.res.res10=l),name:"res10"},{default:a(()=>[g("div",null,[(n(!0),f(V,null,F(w.respuestas,l=>(n(),I(k,{key:l.id,value:l,label:l.respuesta},null,8,["value","label"]))),128))])]),_:2},1032,["value"])])):C("",!0)]),_:2},1024)]))),128)),e(A,{btnClass:"btn-dark",onClick:j.GuardarExamen},{default:a(()=>[P(" Guardar Examen ")]),_:1},8,["onClick"]),Le])):(n(),f("div",je,[e(d,{show:u.showModal,"onUpdate:show":r[10]||(r[10]=w=>u.showModal=w)},{default:a(()=>[e(N,{style:{width:"450px"},bordered:!1,size:"huge",role:"dialog","aria-modal":"true",preset:"card"},{default:a(()=>[g("div",Te,[g("div",qe,[ze,Fe,e(A,{btnClass:"btn-dark",style:{padding:"10px 20px"},onClick:j.decargarExamen},{default:a(()=>[P("IMPRIMIR")]),_:1},8,["onClick"])])])]),_:1})]),_:1},8,["show"]),P(" Nota de examen vocacional: "+H(u.nota),1)]))}const Ge=_e(ge,[["render",Me]]),Be=g("small",null," Foto del postulante (JPG, PNG) ",-1),Je=g("small",null," Certificado de estudios (PDF) ",-1),We=g("div",{style:{height:"10px"}},null,-1),He=g("label",null,"Codigo certificado",-1),Xe={__name:"FormDatosProgramaComponent",props:{modelValue:{type:Object,default:null},showLabel:String,paises:Array,datos_personales:Object},emits:["update:modelValue","paso"],setup(U,{emit:r}){const h=U,R=ie(),u=p(!1),j=p(null),k=p(null),y=se(),N=p([]),A=p(!1),d=p({programa_estudios:"",codigo_medico:"",codigo_constancia:"",foto_postulante:null,certificado_estudios:null,voucher_pago_medico:{file:null,secuencia:null,fecha:"",hora:"",monto:""}}),w={programa_estudios:{type:"number",required:!0,message:"Obligatorio",trigger:["blur","input"]},codigo_medico:{required:!0,message:"Obligatorio",trigger:["blur","input"]},voucher_pago_medico:{secuencia:{required:!0,message:"Obligatorio",trigger:["blur","input"]},fecha:{required:!0,message:"Obligatorio",trigger:["blur","input"]},monto:{required:!0,message:"Obligatorio",trigger:["blur","input"]}}},_=p([]),l=p(null);ue(()=>({...d.value}),async(c,m)=>{if(c.programa_estudios!=m.programa_estudios){u.value=!0;let x=await M.getPreguntas(d.value.programa_estudios);_.value=x}});const t=async()=>{A.value=!0;let c=await M.getProgramasEstudios();N.value=c,A.value=!1};(async()=>{await t(),h.modelValue!=null&&(d.value=h.modelValue),l.value=JSON.stringify(h.datos_personales)})();const Q=async c=>{c.preventDefault(),r("update:modelValue",d.value),r("paso",2)},Y=c=>{var m;c.preventDefault(),(m=j.value)==null||m.validate(x=>{var q;x?y.error("Llenar el formulario de manera correcta"):((d.value.programa_estudios==14||d.value.programa_estudios==6)&&((q=k.value)==null||q.validate(v=>{v&&y.error("Llenar el formulario de manera correcta")})),J.value==null?y.error("Certificado de estudios es obligatorio"):W.value==null?y.error("La foto del postulante es obligatorio"):(r("update:modelValue",d.value),r("paso",4),y.success("Finalizar")))})},W=p(null),J=p(null),Z=c=>{let m=c.target.files[0];d.value.foto_postulante=m,W.value=URL.createObjectURL(m)},X=c=>{let m=c.target.files[0];d.value.certificado_estudios=m,J.value=URL.createObjectURL(m)},K=R.params.id,S=R.params.codigo;return(c,m)=>{const x=s("n-select"),q=s("n-form-item"),v=s("n-input"),o=s("n-form"),E=s("n-card"),b=s("n-divider"),G=s("n-image"),L=s("n-space"),z=s("n-grid-item"),D=s("n-grid"),$=s("n-tab-pane"),ee=s("n-tabs"),ae=s("n-alert"),ne=s("ArrowBack"),le=s("n-icon"),oe=s("n-button"),re=s("Save"),i=s("n-modal");return n(),f(V,null,[e(E,{class:"card-datos",title:"PROGRAMA DE ESTUDIOS"},{default:a(()=>[e(o,{model:d.value,rules:w,ref_key:"formRef",ref:j,"label-placement":U.showLabel,"label-width":"200"},{default:a(()=>[e(q,{path:"programa_estudios",label:"Programa de estudio"},{default:a(()=>[e(x,{value:d.value.programa_estudios,"onUpdate:value":m[0]||(m[0]=O=>d.value.programa_estudios=O),filterable:"",clearable:"",options:N.value},null,8,["value","options"])]),_:1}),d.value.programa_estudios==14||d.value.programa_estudios==6?(n(),I(q,{key:0,path:"codigo_medico",label:"Código de examen medico"},{default:a(()=>[e(v,{value:d.value.codigo_medico,"onUpdate:value":m[1]||(m[1]=O=>d.value.codigo_medico=O),style:{"text-transform":"uppercase"},placeholder:""},null,8,["value"])]),_:1})):C("",!0)]),_:1},8,["model","label-placement"])]),_:1}),e(E,{class:"card-datos",title:"ARCHIVOS"},{action:a(()=>[e(L,{justify:"space-between"},{default:a(()=>[e(oe,{size:"large",type:"primary",onClick:Q,"icon-placement":"left"},{icon:a(()=>[e(le,null,{default:a(()=>[e(ne)]),_:1})]),default:a(()=>[P(" ATRAS ")]),_:1}),e(oe,{size:"large",type:"primary","icon-placement":"right",onClick:Y},{icon:a(()=>[e(le,null,{default:a(()=>[e(re)]),_:1})]),default:a(()=>[P(" GUARDAR ")]),_:1})]),_:1})]),default:a(()=>[e(b,{"title-placement":"left"},{default:a(()=>[P(" CERTIFICADO DE ESTUDIOS ")]),_:1}),e(D,{cols:"1 600:2","x-gap":20},{default:a(()=>[e(z,null,{default:a(()=>[e(b,{"title-placement":"left"},{default:a(()=>[Be]),_:1}),g("input",{type:"file",accept:".png, .jpg, .jpeg",onChange:Z},null,32),W.value?(n(),I(L,{key:0,justify:"center"},{default:a(()=>[e(G,{width:"200",src:W.value},null,8,["src"])]),_:1})):C("",!0)]),_:1}),e(z,null,{default:a(()=>[e(b,{"title-placement":"left"},{default:a(()=>[Je]),_:1}),g("input",{type:"file",accept:".pdf",onChange:X},null,32),We,He,e(v,{style:{"text-transform":"uppercase"},value:d.value.constancia_codigo,"onUpdate:value":m[2]||(m[2]=O=>d.value.constancia_codigo=O),placeholder:"1vd123"},null,8,["value"])]),_:1})]),_:1}),d.value.programa_estudios==14||d.value.programa_estudios==6?(n(),I(D,{key:0,cols:"1 600:2","x-gap":20},{default:a(()=>[e(z,null,{default:a(()=>[e(ae,{"show-icon":!1},{default:a(()=>[e(ee,{type:"line",animated:""},{default:a(()=>[e($,{name:"oasis",tab:"Agencia"},{default:a(()=>[e(L,{justify:"center"},{default:a(()=>[e(G,{width:"350",lazy:"",src:"/assets/exam_voucher/voucherDniBN.jpg"})]),_:1})]),_:1}),e($,{name:"the beatles",tab:"Pago en caja"},{default:a(()=>[e(L,{justify:"center"},{default:a(()=>[e(G,{width:"200","lazysx|":"",src:"../../public/assets/exam_voucher/voucher-caja.jpg"})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e(z,{class:"mt-1"},{default:a(()=>[e(o,{model:d.value,rules:w,ref_key:"formPagoRef",ref:k,"label-placement":"left","label-width":"110"},{default:a(()=>[e(q,{path:"voucher_pago_medico.secuencia",label:"N° secuencia:"},{default:a(()=>[e(v,{value:d.value.voucher_pago_medico.secuencia,"onUpdate:value":m[3]||(m[3]=O=>d.value.voucher_pago_medico.secuencia=O),placeholder:"330236"},null,8,["value"])]),_:1}),e(q,{path:"voucher_pago_medico.fecha",label:"Fecha de pago:"},{default:a(()=>[e(v,{type:"date",value:d.value.voucher_pago_medico.fecha,"onUpdate:value":m[4]||(m[4]=O=>d.value.voucher_pago_medico.fecha=O),placeholder:""},null,8,["value"])]),_:1}),e(q,{path:"voucher_pago_medico.monto",label:"Monto:"},{default:a(()=>[e(v,{value:d.value.voucher_pago_medico.monto,"onUpdate:value":m[5]||(m[5]=O=>d.value.voucher_pago_medico.monto=O),placeholder:""},null,8,["value"])]),_:1})]),_:1},8,["model"])]),_:1})]),_:1})):C("",!0)]),_:1}),e(i,{show:u.value,"onUpdate:show":m[6]||(m[6]=O=>u.value=O)},{default:a(()=>[e(E,{title:"Examen vocacional",bordered:!1,size:"huge",role:"dialog","aria-modal":"true"},{default:a(()=>[e(Ge,{programa:d.value.programa_estudios,codigo:te(S),dni:te(K),preguntas:_.value,datos_personales:U.datos_personales},null,8,["programa","codigo","dni","preguntas","datos_personales"])]),_:1})]),_:1},8,["show"])],64)}}},Ke={key:0,style:{width:"400px","text-align":"center"}},Qe=g("h2",null,"Felicitaciones ya está pre-inscrito",-1),Ye=g("br",null,null,-1),Ze={style:{display:"flex","justify-content":"center"}},$e=["href"],ea={key:1,style:{width:"400px","text-align":"center"}},aa=g("h2",null," Ocurrió un problema al momento de registrar sus datos verifique que ha llenado todos los datos del formulario ",-1),la=g("h2",null,"Vuelva a Intentarlo",-1),oa=g("h2",null," Si el problema persiste comuniquese con el Administrador, solo para pre-inscripccionres (Solo whatsapp 928845434) ",-1),ta={__name:"RevisionDatosComponent",props:{datos_personales:Object,datos_estudios:Object,datos_programa:Object,codigo:String,dni:String},emits:["update:modelValue","paso"],setup(U,{emit:r}){const h=U,R=ie(),u=p(0),j=()=>{r("paso",3)};p("");const k=p(""),y=R.params.id;return(async()=>{let A=new FormData;A.append("datos_personales",JSON.stringify(h.datos_personales)),A.append("datos_programa",JSON.stringify(h.datos_programa)),A.append("datos_estudios",JSON.stringify(h.datos_estudios)),A.append("foto_postulante",h.datos_programa.foto_postulante),A.append("pdf_certificado",h.datos_programa.certificado_estudios),A.append("tipo_doc",window.localStorage.getItem("tipo_doc")),A.append("dni",window.localStorage.getItem("num_doc")),A.append("codigo",window.localStorage.getItem("codigo"));let d=await M.guardaDatos(A);k.value=d.estado,k.value?(console.log("Registro exitoso"),u.value=1,window.localStorage.removeItem("tipo_doc"),window.localStorage.removeItem("num_doc"),window.localStorage.removeItem("codigo"),window.localStorage.removeItem("secuencia"),window.localStorage.removeItem("fecha"),window.localStorage.removeItem("monto")):(console.log("Ocurrio un errror"),u.value=2)})(),(A,d)=>{const w=s("n-button"),_=s("n-card");return n(),I(_,null,{default:a(()=>[u.value===1?(n(),f("div",Ke,[Qe,Ye,g("div",Ze,[g("a",{class:"b-block",href:"https://back-admi.arielluqu3.com/api/constancia-pre-inscripcion-general/"+te(y)}," DESCARGAR CONSTANCIA DE PRE-INSCRIPCIÓN ",8,$e)])])):C("",!0),u.value===2?(n(),f("div",ea,[aa,la,oa,e(w,{class:"b-block",type:"primary",onClick:j},{default:a(()=>[P(" ATRAS ")]),_:1})])):C("",!0)]),_:1})}}};const sa={__name:"DatosPostulante",props:{datos_personales:Object,datos_estudios:Object,datos_programa:Object,codigo:String,dni:String},setup(U){const r=p(1),h=p(null),R=p(null),u=p(null),j=p(null),k=p("left"),y=p([]),N=p(document.documentElement.clientWidth),A=()=>{N.value=document.documentElement.clientWidth,k.value=N.value<650?"top":"left"};window.addEventListener("resize",A);const d=async()=>{y.value=await M.getPaiseSelect()};return A(),d(),(w,_)=>(n(),f(V,null,[r.value==1?(n(),I(me,{key:0,onPaso:_[0]||(_[0]=l=>r.value=l),showLabel:k.value,paises:y.value,modelValue:h.value,"onUpdate:modelValue":_[1]||(_[1]=l=>h.value=l)},null,8,["showLabel","paises","modelValue"])):C("",!0),r.value==2?(n(),I(ve,{key:1,onPaso:_[2]||(_[2]=l=>r.value=l),showLabel:k.value,paises:y.value,modelValue:R.value,"onUpdate:modelValue":_[3]||(_[3]=l=>R.value=l)},null,8,["showLabel","paises","modelValue"])):C("",!0),r.value==3?(n(),I(Xe,{key:2,onPaso:_[4]||(_[4]=l=>r.value=l),showLabel:k.value,datos_personales:h.value,paises:y.value,modelValue:u.value,"onUpdate:modelValue":_[5]||(_[5]=l=>u.value=l)},null,8,["showLabel","datos_personales","paises","modelValue"])):C("",!0),r.value==4?(n(),I(ta,{key:3,datos_personales:h.value,datos_estudios:R.value,datos_programa:u.value,codigo:j.value,onPaso:_[6]||(_[6]=l=>r.value=l)},null,8,["datos_personales","datos_estudios","datos_programa","codigo"])):C("",!0)],64))}};export{sa as default};
